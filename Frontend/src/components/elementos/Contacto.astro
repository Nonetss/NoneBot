---
const handleSubmit = async (event) => {
  event.preventDefault();

  const form = event.target;
  const formData = new FormData(form);

  // Validaciones b√°sicas
  const nombre = formData.get("nombre").trim();
  const email = formData.get("email").trim();
  const mensaje = formData.get("mensaje").trim();

  if (!nombre || !email || !mensaje) {
    alert("Por favor, completa todos los campos.");
    return;
  }

  // Enviar datos a un backend (ejemplo con fetch)
  try {
    const response = await fetch("/api/contacto", {
      method: "POST",
      body: formData,
    });

    if (response.ok) {
      alert("Mensaje enviado con √©xito üéâ");
      form.reset();
    } else {
      alert("Hubo un problema al enviar el mensaje. Int√©ntalo de nuevo.");
    }
  } catch (error) {
    alert("Error al enviar el mensaje. Revisa tu conexi√≥n.");
  }
};
---

<section id="contacto">
  <h1>Contacto:</h1>
  <nav>
    <form class="contact-form" onsubmit={handleSubmit}>
      <h2>Contacto</h2>

      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" name="nombre" required />

      <label for="email">Correo Electr√≥nico:</label>
      <input type="email" id="email" name="email" required />

      <label for="mensaje">Mensaje:</label>
      <textarea id="mensaje" name="mensaje" rows="4" required></textarea>

      <button type="submit">Enviar</button>
    </form>
  </nav>
</section>

<style>
  section {
    padding: 50px;
    width: 80%;
    margin: 0 auto;
  }
  nav {
    border: solid 5px #000;
    box-shadow: 6px 6px 0px 0px rgba(0, 0, 0, 0.9);
    max-width: 400px;
    margin: 0 auto;
    padding: 20px 40px 20px 20px;
  }
  .contact-form {
    display: flex;
    flex-direction: column;
  }

  .contact-form h2 {
    text-align: center;
    margin-bottom: 10px;
  }

  .contact-form label {
    font-weight: bold;
    margin-top: 10px;
  }

  .contact-form input,
  .contact-form textarea {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    border: solid 5px #000;
  }

  .contact-form button {
    margin-top: 15px;
    padding: 10px;
    background: var(--color-principal);
    color: #fff;
    border: none;
    cursor: pointer;
    border-radius: 4px;
    transition: background 0.3s;
  }

  .contact-form button:hover {
    background: #0056b3;
  }
</style>
